<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The God of Chosen Answers Prayers</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-church"></i>
                    <h1>The God of Chosen Answers Prayers</h1>
                </div>
                <div class="mobile-menu">
                    <i class="fas fa-bars"></i>
                </div>
                <nav>
                    <ul>
                        <li><a href="/" class="active">Home</a></li>
                        <li><a href="/messages">Messages</a></li>
                        <li><a href="#" class="blurred">Testimonies</a></li>
                        <li><a href="#" class="blurred">Events/News</a></li>
                        <li><a href="#" class="blurred">About</a></li>
                        <li><a href="/admin-login">Admin</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Welcome to Our Church</h2>
            <p>Experience the power of prayer and the joy of fellowship. Join us as we worship and grow in faith together.</p>
            <a href="/messages" class="btn">View All Messages</a>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <h2 class="section-title">Our Ministries</h2>
            <div class="features">
                <!-- Messages Card -->
                <div class="feature-card">
                    <i class="fas fa-book-open"></i>
                    <h3>Messages</h3>
                    <p>Access sermons and spiritual resources to strengthen your faith journey.</p>
                    <a href="/messages" class="btn btn-small">View All Messages</a>
                </div>

                <!-- Testimonies Card (Blurred) -->
                <div class="feature-card blurred">
                    <i class="fas fa-video"></i>
                    <h3>Testimonies</h3>
                    <p>Watch inspiring testimonies of God's work in people's lives.</p>
                    <a href="#" class="btn btn-small">View Testimonies</a>
                </div>

                <!-- Events/News Card (Blurred) -->
                <div class="feature-card blurred">
                    <i class="fas fa-calendar-alt"></i>
                    <h3>Events/News</h3>
                    <p>Stay updated with our church events, programs and news.</p>
                    <a href="#" class="btn btn-small">View Events</a>
                </div>

                <!-- About Card (Blurred) -->
                <div class="feature-card blurred">
                    <i class="fas fa-info-circle"></i>
                    <h3>About</h3>
                    <p>Learn more about our church, beliefs, and leadership.</p>
                    <a href="#" class="btn btn-small">Learn More</a>
                </div>
            </div>

            <!-- Messages Section -->
            <div id="messages-section">
                <h2 class="section-title">Recent Messages</h2>
                
                <!-- Show total message count -->
                <div class="alert alert-info mb-4">
                    <i class="fas fa-info-circle"></i> 
                    Showing <%= messages.length %> recent messages. 
                    <a href="/messages" class="alert-link">View all <%= totalMessages %> messages</a>
                </div>
                
                <% if (messages.length === 0) { %>
                    <div class="alert alert-warning">
                        <i class="fas fa-info-circle"></i> No messages available yet. 
                        Please check back later for new messages.
                    </div>
                <% } else { %>
                    <div class="messages-grid">
                        <% messages.forEach(function(message) { %>
                        <div class="message-card">
                            <div class="message-header">
                                <h3><%= message.title %></h3>
                                <span class="message-code"><%= message.code %></span>
                            </div>
                            <div class="message-body">
                                <div class="message-meta">
                                    <span><i class="far fa-calendar"></i> 
                                        <%= message.date.toLocaleDateString('en-US', { 
                                            year: 'numeric', 
                                            month: 'long', 
                                            day: 'numeric' 
                                        }) %>
                                    </span>
                                    <span><i class="far fa-user"></i> <%= message.author %></span>
                                </div>
                                <p class="message-description"><%= message.description %></p>
                                <div class="message-actions">
                                    <% if (message.filePath) { %>
                                        <a href="<%= message.filePath %>" class="btn btn-small" download>
                                            <i class="fas fa-download"></i> Download PDF
                                        </a>
                                    <% } else { %>
                                        <span class="text-muted">
                                            <i class="fas fa-file-pdf"></i> No PDF available
                                        </span>
                                    <% } %>
                                </div>
                            </div>
                        </div>
                        <% }); %>
                    </div>

                    <!-- View All Messages Button -->
                    <% if (totalMessages > messages.length) { %>
                        <div class="text-center mt-4">
                            <a href="/messages" class="btn btn-primary btn-lg">
                                <i class="fas fa-book-open"></i> View All <%= totalMessages %> Messages
                            </a>
                        </div>
                    <% } %>
                <% } %>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> The Chosen Estate, Amuwo Odofin, along Oshodi Apapa Express Way near Ijesha Bus Stop, Lagos, Nigeria</li>
                        <li><i class="fas fa-phone"></i> (123) 456-7890</li>
                        <li><i class="fas fa-envelope"></i> info@churchofchosen.com</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/messages">Messages</a></li>
                        <li><a href="#" class="blurred-link">Testimonies</a></li>
                        <li><a href="#" class="blurred-link">Events</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Service Times</h3>
                    <ul>
                        <li>Sunday: 9:00 AM & 11:00 AM</li>
                        <li>Wednesday: 7:00 PM</li>
                        <li>Friday: Prayer @ 6:30 PM</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <ul>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 The God of Chosen Answers Prayers. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        document.querySelector('.mobile-menu')?.addEventListener('click', function() {
            const nav = document.querySelector('nav ul');
            if (nav.style.display === 'flex') {
                nav.style.display = 'none';
            } else {
                nav.style.display = 'flex';
            }
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#' && href !== '#!') {
                    e.preventDefault();
                    const targetElement = document.querySelector(href);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // Blurred section warning
        document.querySelectorAll('.blurred, .blurred-link').forEach(element => {
            element.addEventListener('click', function(e) {
                e.preventDefault();
                alert('This section is currently unavailable. Please check back later.');
            });
        });

        // Auto-hide alerts after 5 seconds
        setTimeout(() => {
            document.querySelectorAll('.alert').forEach(alert => {
                alert.style.opacity = '0';
                alert.style.transition = 'opacity 0.5s';
                setTimeout(() => alert.remove(), 500);
            });
        }, 5000);

        // Responsive navigation
        function handleResize() {
            const nav = document.querySelector('nav ul');
            if (window.innerWidth > 768) {
                nav.style.display = 'flex';
            } else {
                nav.style.display = 'none';
            }
        }
        window.addEventListener('resize', handleResize);
        handleResize(); // Initial check

        // Message card animations
        document.querySelectorAll('.message-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>