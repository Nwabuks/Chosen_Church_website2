<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chibooks | Homepage</title>
    <!-- SVG Favicons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/svg+xml" sizes="16x16" href="/favicon-16x16.svg">
    <link rel="icon" type="image/svg+xml" sizes="32x32" href="/favicon-32x32.svg">
    <link rel="icon" type="image/svg+xml" sizes="64x64" href="/favicon-64x64.svg">
    <link rel="apple-touch-icon" type="image/svg+xml" sizes="180x180" href="/apple-touch-icon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    
 
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="/images/church-logo.png" alt="Church Logo" class="logo-image">
                    <h1>The God of Chosen Answers Prayers</h1>
                </div>
                <div class="mobile-menu">
                    <i class="fas fa-bars"></i>
                </div>
                <nav>
                    <ul>
                        <li><a href="/" class="active">Home</a></li>
                        <li><a href="/messages">Messages</a></li>
                        <li><a href="#" class="blurred">Testimonies</a></li>
                        <li><a href="#" class="blurred">Events/News</a></li>
                        <li><a href="#" class="blurred">About</a></li>
                        <li><a href="/admin-login">Admin</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Welcome to Our Church</h2>
            <p>Experience the power of prayer and the joy of fellowship. Join us as we worship and grow in faith together.</p>
            <a href="/messages" class="btn">View All Messages</a>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Featured Events Section -->
<!-- Featured Events Section -->
<section class="events-section">
    <h2 class="section-title">Upcoming Events</h2>
    
    <% if (featuredEvents && featuredEvents.length > 0) { %>
        <div class="events-grid">
            <% featuredEvents.forEach(function(event) { %>
            <div class="event-card">
                <!-- Image on the left -->
                <div class="event-image-container">
                    <img src="/event-image/<%= event._id %>" alt="<%= event.title %>" class="event-image" height="100%">
                </div>
                
                <!-- Event details on the right -->
                <div class="event-content">
                    <div>
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <span class="event-date">
                                <i class="far fa-calendar"></i> 
                                <%= new Date(event.date).toLocaleDateString('en-US', { 
                                    month: 'short', 
                                    day: 'numeric'
                                }) %>
                            </span>
                            <% if (event.featured) { %>
                                <span class="event-featured">Featured</span>
                            <% } %>
                        </div>
                        
                        <h3 class="event-title"><%= event.title %></h3>
                        
                        <div class="event-venue">
                            <i class="fas fa-map-marker-alt"></i>
                            <span><%= event.venue %></span>
                        </div>
                        
                        <p class="event-description"><%= event.description %></p>
                    </div>
                    
                    <!-- <div class="event-actions">
                        <% if (event.link) { %>
                            <a href="<%= event.link %>" target="_blank" class="btn btn-small">
                                <i class="fas fa-external-link-alt"></i> Learn More
                            </a>
                        <% } %>
                        <button class="btn btn-outline btn-small" onclick="shareEvent('<%= event.title %>', '<%= event.link ? event.link : "" %>')">
                            <i class="fas fa-share-alt"></i> Share
                        </button>
                    </div> -->
                </div>
            </div>
            <% }); %>
        </div>
    <% } else { %>
        <div class="no-events">
            <i class="fas fa-calendar-times fa-3x text-muted mb-3"></i>
            <h4>No Events Scheduled</h4>
            <p class="text-muted">Check back later for upcoming events and programs.</p>
            <% if (isAdmin) { %>
                <a href="/admin-events" class="btn btn-primary">
                    <i class="fas fa-plus-circle"></i> Add Events
                </a>
            <% } %>
        </div>
    <% } %>
</section>

            <!-- Vision and Mandate Section -->
            <section id="vision-mandate" class="vision-section">
                <h2 class="section-title">Our Vision & Mandate</h2>
                
                <div class="vision-grid">
                    <!-- Vision 1 -->
                    <div class="vision-card">
                        <div class="vision-icon">
                            <i class="fas fa-globe-americas"></i>
                        </div>
                        <h3>Grassroots Revival Worldwide</h3>
                        <p>To bring revival at the grassroots level across the world — street to street, village to village, city to city, nation to nation — turning people back to God through holiness and righteousness.</p>
                        <div class="bible-verse">
                            <i class="fas fa-bible"></i> Mark 16:15-17 • Matthew 24:14
                        </div>
                    </div>

                    <!-- Vision 2 -->
                    <div class="vision-card">
                        <div class="vision-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <h3>Revival of Apostolic Christian Experiences</h3>
                        <p>To restore the old-time apostolic power as seen in the Book of Acts — genuine miracles, deliverances, salvation, and Holy Ghost manifestations.</p>
                        <div class="bible-verse">
                            <i class="fas fa-bible"></i> Acts 2:17 • Ephesians 4:11-13
                        </div>
                    </div>

                    <!-- Vision 3 -->
                    <div class="vision-card">
                        <div class="vision-icon">
                            <i class="fas fa-cloud"></i>
                        </div>
                        <h3>Rise of Heaven-Conscious Believers</h3>
                        <p>To prepare believers for the coming of Jesus Christ by raising a people who live with heaven-mindedness, holiness, and fear of God.</p>
                        <div class="bible-verse">
                            <i class="fas fa-bible"></i> Matthew 6:33 • John 14:1-3
                        </div>
                    </div>

                    <!-- The Mandate -->
                    <div class="mandate-card">
                        <div class="mandate-icon">
                            <i class="fas fa-cross"></i>
                        </div>
                        <h3>The 10 Billion Souls Mandate</h3>
                        <p>To win 10 billion souls worldwide for Christ — symbolic of a global evangelism mission reaching every nation, tribe, and tongue with the Gospel of Jesus Christ.</p>
                        <div class="bible-verse">
                            <i class="fas fa-bible"></i> Matthew 28:19-20
                        </div>
                        <div class="mandate-badge">Global Mission</div>
                    </div>
                </div>

                <!-- Motto and Holiness -->
                <div class="motto-holiness">
                    <div class="motto-card">
                        <h4><i class="fas fa-quote-left"></i> Our Motto</h4>
                        <p class="motto-text">"Heaven at Last."</p>
                    </div>
                    
                    <div class="holiness-card">
                        <h4><i class="fas fa-dove"></i> Our Emphasis</h4>
                        <p><strong>Holiness:</strong> The ministry strongly emphasizes holiness inside and outside, evangelism, and separation from sin.</p>
                        <ul>
                            <li>Holiness in heart and conduct</li>
                            <li>Powerful evangelism and soul-winning</li>
                            <li>Separation from worldly practices</li>
                            <li>Living in the fear of God</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Ministries Section -->
            <h2 class="section-title">Our Ministries</h2>
            <div class="features">
                <!-- Messages Card -->
                <div class="feature-card">
                    <i class="fas fa-book-open"></i>
                    <h3>Messages</h3>
                    <p>Access sermons and spiritual resources to strengthen your faith journey.</p>
                    <a href="/messages" class="btn btn-small">View All Messages</a>
                </div>

                <!-- Testimonies Card (Blurred) -->
                <div class="feature-card blurred">
                    <i class="fas fa-video"></i>
                    <h3>Testimonies</h3>
                    <p>Watch inspiring testimonies of God's work in people's lives.</p>
                    <a href="#" class="btn btn-small">View Testimonies</a>
                </div>

                <!-- Events/News Card (Blurred) -->
                <div class="feature-card blurred">
                    <i class="fas fa-calendar-alt"></i>
                    <h3>Events/News</h3>
                    <p>Stay updated with our church events, programs and news.</p>
                    <a href="#" class="btn btn-small">View Events</a>
                </div>

                <!-- About Card (Blurred) -->
                <div class="feature-card blurred">
                    <i class="fas fa-info-circle"></i>
                    <h3>About</h3>
                    <p>Learn more about our church, beliefs, and leadership.</p>
                    <a href="#" class="btn btn-small">Learn More</a>
                </div>
            </div>

            <!-- Messages Section -->
            <div id="messages-section">
                <h2 class="section-title">Recent Messages</h2>
                
                <!-- Show total message count -->
                <div class="alert alert-info mb-4">
                    <i class="fas fa-info-circle"></i> 
                    Showing <%= messages.length %> recent messages. 
                    <a href="/messages" class="alert-link">View all <%= totalMessages %> messages</a>
                </div>
                
                <% if (messages.length === 0) { %>
                    <div class="alert alert-warning">
                        <i class="fas fa-info-circle"></i> No messages available yet. 
                        Please check back later for new messages.
                    </div>
                <% } else { %>
                    <div class="messages-grid">
                        <% messages.forEach(function(message) { %>
                        <div class="message-card">
                            <div class="message-header">
                                <h3><%= message.title %></h3>
                                <span class="message-code"><%= message.code %></span>
                            </div>
                            <div class="message-body">
                                <div class="message-meta">
                                    <span><i class="far fa-calendar"></i> 
                                        <%= message.date.toLocaleDateString('en-US', { 
                                            year: 'numeric', 
                                            month: 'long', 
                                            day: 'numeric' 
                                        }) %>
                                    </span>
                                    <span><i class="far fa-user"></i> <%= message.author %></span>
                                </div>
                                <p class="message-description"><%= message.description %></p>
                                <div class="message-actions">
                                    <% if (message.filePath || message.pdfFile) { %>
                                        <a href="/pdf/<%= message._id %>" class="btn btn-small" download>
                                            <i class="fas fa-download"></i> Download
                                        </a>
                                        <!-- Add Preview Button -->
                                        <a href="/preview/<%= message._id %>" class="btn btn-small btn-outline">
                                            <i class="fas fa-eye"></i> Preview
                                        </a>
                                    <% } else { %>
                                        <span class="text-muted">
                                            <i class="fas fa-file-pdf"></i> No PDF available
                                        </span>
                                    <% } %>
                                </div>
                            </div>
                        </div>
                        <% }); %>
                    </div>

                    <!-- View All Messages Button -->
                    <% if (totalMessages > messages.length) { %>
                        <div class="text-center mt-4">
                            <a href="/messages" class="btn btn-primary btn-lg">
                                <i class="fas fa-book-open"></i> View All <%= totalMessages %> Messages
                            </a>
                        </div>
                    <% } %>
                <% } %>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> The Chosen Estate, Amuwo Odofin, along Oshodi Apapa Express Way near Ijesha Bus Stop, Lagos, Nigeria</li>
                        <li><i class="fas fa-phone"></i> (123) 456-7890</li>
                        <li><i class="fas fa-envelope"></i> info@churchofchosen.com</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/messages">Messages</a></li>
                        <li><a href="#" class="blurred-link">Testimonies</a></li>
                        <li><a href="#" class="blurred-link">Events/News</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Weekly Services</h3>
                    <ul>
                        <li><strong>Sunday:</strong> Branch Services (1st & 3rd) - 8:00 AM</li>
                        <li><strong>Sunday:</strong> HQ Combined Service (2nd & Last) - 8:00 AM</li>
                        <li><strong>Monday:</strong> Workers & Leaders Vigil - 11:00 PM</li>
                        <li><strong>Tuesday:</strong> HQ Revival Hour - 8:00 AM & 5:00 PM</li>
                        <li><strong>Tuesday:</strong> Local Branches Revival - 5:00 PM</li>
                        <li><strong>Wednesday:</strong> New Convert Class - 5:00 PM</li>
                        <li><strong>Thursday:</strong> Deliverance & Counseling - 8:00 AM</li>
                        <li><strong>Friday:</strong> General Vigil - 10:00 PM</li>
                        <li><strong>Saturday:</strong> Workers' Meeting / Bible Study - 9:00 AM</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <ul>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i> YouTube</a></li>
                        <li><a href="#"><i class="fas fa-globe"></i> Official Website</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 The Lord's Chosen Charismatic Revival Ministries. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        document.querySelector('.mobile-menu')?.addEventListener('click', function() {
            const nav = document.querySelector('nav ul');
            if (nav.style.display === 'flex') {
                nav.style.display = 'none';
            } else {
                nav.style.display = 'flex';
            }
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#' && href !== '#!') {
                    e.preventDefault();
                    const targetElement = document.querySelector(href);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // Blurred section warning
        document.querySelectorAll('.blurred, .blurred-link').forEach(element => {
            element.addEventListener('click', function(e) {
                e.preventDefault();
                alert('This section is currently unavailable. Please check back later.');
            });
        });

        // Auto-hide alerts after 5 seconds
        setTimeout(() => {
            document.querySelectorAll('.alert').forEach(alert => {
                alert.style.opacity = '0';
                alert.style.transition = 'opacity 0.5s';
                setTimeout(() => alert.remove(), 500);
            });
        }, 5000);

        // Responsive navigation
        function handleResize() {
            const nav = document.querySelector('nav ul');
            if (window.innerWidth > 768) {
                nav.style.display = 'flex';
            } else {
                nav.style.display = 'none';
            }
        }
        window.addEventListener('resize', handleResize);
        handleResize(); // Initial check

        // Message card animations
        document.querySelectorAll('.message-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Event card animations
        document.querySelectorAll('.event-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Share event function
// Share event function
function shareEvent(title, eventLink) {
    // Use event link if provided, otherwise use current page URL
    const shareUrl = eventLink || window.location.href;
    
    if (navigator.share) {
        navigator.share({
            title: title,
            url: shareUrl
        }).catch(err => {
            console.log('Error sharing:', err);
            // Fallback to clipboard
            copyToClipboard(`${title} - ${shareUrl}`);
        });
    } else {
        // Fallback: copy to clipboard
        copyToClipboard(`${title} - ${shareUrl}`);
    }
}

// Clipboard function
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        alert('Event information copied to clipboard!');
    }).catch(err => {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('Event information copied to clipboard!');
    });
}
    </script>
</body>
</html>